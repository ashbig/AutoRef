<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.0//EN"
          "http://jakarta.apache.org/struts/dtds/struts-config_1_0.dtd">

<!--
     This is the Struts configuration file for the example application,
     using the proposed new syntax.

     NOTE:  You would only flesh out the details in the "form-bean"
     declarations if you had a generator tool that used them to create
     the corresponding Java classes for you.  Otherwise, you would
     need only the "form-bean" element itself, with the corresponding
     "name" and "type" attributes.
-->


<struts-config>


 
  <!-- ========== Form Bean Definitions =================================== -->
  <form-beans>

    <!-- Logon form bean -->
    <form-bean      name="logonForm"
                    type="edu.harvard.med.hip.flex.form.LogonForm"/>

    <!-- Customer request form bean -->
    <form-bean      name="customerRequestForm"
                    type="edu.harvard.med.hip.flex.form.CustomerRequestForm"/>

   
    <!-- Plate entry form bean-->
    <form-bean      name="plateEntryForm"
                    type="edu.harvard.med.hip.flex.form.PlateEntryForm"/>

    <!-- Create process plate form bean -->
    <form-bean      name="createProcessPlateForm"
                    type="edu.harvard.med.hip.flex.form.CreateProcessPlateForm"/>
   
    <!-- Create process plate form bean -->
    <form-bean      name="getProcessPlateInputForm"
                    type="edu.harvard.med.hip.flex.form.GetProcessPlateInputForm"/>

  </form-beans>


  <!-- ========== Global Forward Definitions ============================== -->
  <global-forwards>
    <forward    name="login"        path="/login.jsp"/>
    <forward    name="error"        path="/ProcessError.do"/>
  </global-forwards>
  

  <!-- ========== Action Mapping Definitions ============================== -->
  <action-mappings type="org.apache.struts.action.ActionMapping">

    
    <!-- Process a user logon -->
    <action    path="/logon"
               type="edu.harvard.med.hip.flex.action.LogonAction"
               name="logonForm"
              scope="request"
              input="/login.jsp">
      <forward  name="success"   path="/MainMenu.jsp"/>
      <forward  name="failure"  path="/login.jsp"/>
    </action>
    
    <action     path="/ProcessError"
                type="edu.harvard.med.hip.flex.action.ProcessErrorAction">
       <forward name="displayError" path="/FlexError.jsp"/>
                
    </action>

    <!-- Process a request to view a flex sequence -->
    <action      path="/ViewSequence"
                type="edu.harvard.med.hip.flex.action.ViewFlexSequenceAction">
        <forward    name="success"   path="/FlexSequenceUI.jsp"/>
    </action>

    <!-- Process a customer request -->
    <action    path="/CustomerRequest"
               type="edu.harvard.med.hip.flex.action.CustomerRequestAction">
      <forward  name="success"   path="/SequenceSearch.jsp"/>
    </action>   

    <!-- Process a customer request -->
    <action    path="/SequenceSearch"
               type="edu.harvard.med.hip.flex.action.SequenceSearchAction"
               name="customerRequestForm"
              scope="request"
              input="/SequenceSearch.jsp">
      <forward  name="success"   path="/SequenceSelection.jsp"/>
      <forward name="emptysearchresult" path="/SearchResultEmpty.jsp"/>
    </action>    
    
    <!-- Process a customer request -->
    <action    path="/SequenceSelection"
               type="edu.harvard.med.hip.flex.action.SequenceSelectionAction"
               name="customerRequestForm"
              scope="request"
              input="/SequenceSelection.jsp">
      <forward  name="success"   path="/ConfirmSelection.jsp"/>
      <forward  name="empty" path="/SubmissionEmpty.jsp"/>
    </action> 

    <!-- Process a customer request -->
    <action    path="/ConfirmSelection"
               type="edu.harvard.med.hip.flex.action.ConfirmSelectionAction"
               name="customerRequestForm"
              scope="request"
              input="/ConfirmSelection.jsp">
      <forward  name="success"   path="/SequenceSearch.jsp"/>
    </action> 

    <!-- Process a customer request -->
    <action    path="/ViewAlignment"
               type="edu.harvard.med.hip.flex.action.ViewAlignmentAction">
      <forward  name="success"   path="/DisplayAlignment.jsp"/>
    </action> 

    <!-- Process  view pending sequence requests-->
    <action     path ="/ViewPendingRequests"
                type="edu.harvard.med.hip.flex.action.ViewPendingRequestsAction">
        <forward name="success" path="/PendingRequests.jsp"/>
    </action>

    <!-- Process a accept/discard pending sequence request-->
    <action     path="/ProcessQueue"
                type="edu.harvard.med.hip.flex.action.ProcessQueueAction"
                input="/ViewPendingRequests.do">
        <forward name="success" path="/ProcessQueue.jsp"/>
    </action>


    <!-- Displays a form to enter a plate id -->
    <action     path="/EnterPlate"
                type="edu.harvard.med.hip.flex.action.EnterPlateAction"
                name="plateEntryForm"
                scope="request"
                input="/EnterProcessResults.jsp">
        <forward name="success" path="/EnterProcessResults.jsp"/>
    </action>


    <!-- Process the protocol retieval and display -->
    <action    path="/CreateProcessPlate"
               type="edu.harvard.med.hip.flex.action.CreateProcessPlateAction">
      <forward  name="success"   path="/SelectProtocol.jsp"/>
    </action>  

    <!-- Process the protocol selection -->
    <action    path="/SelectProtocol"
               type="edu.harvard.med.hip.flex.action.SelectProtocolAction"
               name="createProcessPlateForm"
               scope="session"
               input="/SelectProtocol.jsp">
      <forward  name="success"   path="/GetInput.jsp"/>
    </action> 
 
    <!-- Process the process plate creation (get input) -->
    <action    path="/GetInput"
               type="edu.harvard.med.hip.flex.action.GetInputAction"
               name="getProcessPlateInputForm"
               scope="request"
               input="/SelectProtocol.do">
      <forward  name="success"   path="/CreatePlate.jsp"/>
    </action>  


    <!-- The standard administrative actions available with Struts -->
    <!-- These would be either omitted or protected by security -->
    <!-- in a real application deployment -->
    <action    path="/admin/addFormBean"
               type="org.apache.struts.actions.AddFormBeanAction"/>
    <action    path="/admin/addForward"
               type="org.apache.struts.actions.AddForwardAction"/>
    <action    path="/admin/addMapping"
               type="org.apache.struts.actions.AddMappingAction"/>
    <action    path="/admin/reload"
               type="org.apache.struts.actions.ReloadAction"/>
    <action    path="/admin/removeFormBean"
               type="org.apache.struts.actions.RemoveFormBeanAction"/>
    <action    path="/admin/removeForward"
               type="org.apache.struts.actions.RemoveForwardAction"/>
    <action    path="/admin/removeMapping"
               type="org.apache.struts.actions.RemoveMappingAction"/>


  </action-mappings>

</struts-config>
