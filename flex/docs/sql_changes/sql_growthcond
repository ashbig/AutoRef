


 CREATE TABLE VECTOR_GROWTHCONDITION
 (VGCRECORDID NUMBER(10,0) NOT NULL
 ,VECTORID NUMBER(10,0) NOT NULL
 ,GROWTHCONDITIONID NUMBER(10,0) NOT NULL
 ,PREFERENCE NUMBER(1) DEFAULT 0 NOT NULL
 );
CREATE TABLE BIOMATERIAL
 (BIOMATERIALID NUMBER(10,0) NOT NULL
 ,BIOMATERIALTYPE VARCHAR2(20) DEFAULT 'ANTIBIOTIC' NOT NULL
 ,DISPLAYNAME VARCHAR2(250) NOT NULL
 )
;
CREATE TABLE BMCONDITION
 (BMCONDITIONID NUMBER(10,0) NOT NULL
 ,BMATERIALID NUMBER(10,0) NOT NULL
 ,BMCONDIONTYPE VARCHAR2(20) DEFAULT 'ANTIBIOTIC' NOT NULL
 ,AMOUNT NUMBER(3) NOT NULL
 ,UNITS VARCHAR2(10) DEFAULT 'ug/mL' NOT NULL
 ,DESCRIPTION VARCHAR2(200)
 ,DISPLAYNAME VARCHAR2(250) NOT NULL
 );
CREATE TABLE BMCOLLECTION_CONNECTOR
 (BMCONDITIONID NUMBER(10,0) NOT NULL
 ,BMCOLLECTIONID NUMBER(10,0) NOT NULL
 )
;
CREATE TABLE BMCOLLECTION
 (BMCOLLECTIONID NUMBER(10,0) NOT NULL
 ,COLLECTIONNAME VARCHAR2(100) NOT NULL
 ,DESCRIPTION VARCHAR2(500)
 )
;
CREATE TABLE GROWTHCONDITION
 (GROWTHCONDITIONID NUMBER(10,0) NOT NULL
 ,GROWTHCONDITIONNAME VARCHAR2(200) NOT NULL
 ,TEMPERATURA INTEGER DEFAULT 0 NOT NULL
 ,TEMPERATURA_UNITS VARCHAR2(3) DEFAULT 'C' NOT NULL
 ,HOSTTYPEID NUMBER(10,0) NOT NULL
 ,HOSTSTRAINID NUMBER(10,0) NOT NULL
 ,BMCOLLECTIONID NUMBER(10,0) NOT NULL
 ,MEDIA NUMBER(10,0) NOT NULL
 ,DESCRIPTION VARCHAR2(500)
 );
 
ALTER TABLE VECTOR_GROWTHCONDITION
 ADD (CONSTRAINT VGN_PK PRIMARY KEY 
  (VGCRECORDID));
 
ALTER TABLE BIOMATERIAL
 ADD (CONSTRAINT BDN_PK PRIMARY KEY 
  (BIOMATERIALID));
/

PROMPT Creating Primary Key on 'BMCONDITION'
;ALTER TABLE BMCONDITION
 ADD (CONSTRAINT BIL_PK PRIMARY KEY 
  (BMCONDITIONID));
/

PROMPT Creating Primary Key on 'BMCOLLECTION_CONNECTOR'
;ALTER TABLE BMCOLLECTION_CONNECTOR
 ADD (CONSTRAINT PCR_PK PRIMARY KEY 
  (BMCONDITIONID
  ,BMCOLLECTIONID));
/

PROMPT Creating Primary Key on 'BMCOLLECTION'
;ALTER TABLE BMCOLLECTION
 ADD (CONSTRAINT BME_PK PRIMARY KEY 
  (BMCOLLECTIONID));
/

PROMPT Creating Primary Key on 'GROWTHCONDITION'
;ALTER TABLE GROWTHCONDITION
 ADD (CONSTRAINT GRN_PK PRIMARY KEY 
  (GROWTHCONDITIONID));
/


PROMPT Creating Unique Key on 'VECTOR_GROWTHCONDITION'
;ALTER TABLE VECTOR_GROWTHCONDITION
 ADD (CONSTRAINT VGN_UK UNIQUE 
  (VECTORID
  ,GROWTHCONDITIONID
  ,PREFERENCE));
/

PROMPT Creating Unique Key on 'BIOMATERIAL'
;ALTER TABLE BIOMATERIAL
 ADD (CONSTRAINT BDN_UK UNIQUE 
  (BIOMATERIALTYPE
  ,DISPLAYNAME));
/

PROMPT Creating Unique Key on 'BMCONDITION'
;ALTER TABLE BMCONDITION
 ADD (CONSTRAINT BIL_UK UNIQUE 
  (DISPLAYNAME));
/

PROMPT Creating Unique Key on 'BMCOLLECTION'
;ALTER TABLE BMCOLLECTION
 ADD (CONSTRAINT BME_UK UNIQUE 
  (COLLECTIONNAME));
/

PROMPT Creating Unique Key on 'GROWTHCONDITION'
;ALTER TABLE GROWTHCONDITION
 ADD (CONSTRAINT GRN_UK UNIQUE 
  (GROWTHCONDITIONNAME));
/

       

PROMPT Creating Foreign Key on 'VECTOR_GROWTHCONDITION'
;ALTER TABLE VECTOR_GROWTHCONDITION ADD (CONSTRAINT
 VGN_GRN_FK FOREIGN KEY 
  (GROWTHCONDITIONID) REFERENCES GROWTHCONDITION
  (GROWTHCONDITIONID));
/

PROMPT Creating Foreign Key on 'BIOMATERIAL'
;ALTER TABLE BIOMATERIAL ADD (CONSTRAINT
 BDN_BIE_FK FOREIGN KEY 
  (BIOMATERIALTYPE) REFERENCES BIOMATERIALTYPE
  (BIOMATERIALTYPE));
/

PROMPT Creating Foreign Key on 'BMCONDITION'
;ALTER TABLE BMCONDITION ADD (CONSTRAINT
 BIL_BIE_FK FOREIGN KEY 
  (BMCONDIONTYPE) REFERENCES BIOMATERIALTYPE
  (BIOMATERIALTYPE));
/

PROMPT Creating Foreign Key on 'BMCONDITION'
;ALTER TABLE BMCONDITION ADD (CONSTRAINT
 BIL_BDN_FK FOREIGN KEY 
  (BMATERIALID) REFERENCES BIOMATERIAL
  (BIOMATERIALID));
/

PROMPT Creating Foreign Key on 'BMCOLLECTION_CONNECTOR'
;ALTER TABLE BMCOLLECTION_CONNECTOR ADD (CONSTRAINT
 PCR_BME_FK FOREIGN KEY 
  (BMCOLLECTIONID) REFERENCES BMCOLLECTION
  (BMCOLLECTIONID));
/

PROMPT Creating Foreign Key on 'BMCOLLECTION_CONNECTOR'
;ALTER TABLE BMCOLLECTION_CONNECTOR ADD (CONSTRAINT
 PCR_BIL_FK FOREIGN KEY 
  (BMCONDITIONID) REFERENCES BMCONDITION
  (BMCONDITIONID));
/

PROMPT Creating Foreign Key on 'GROWTHCONDITION'
;ALTER TABLE GROWTHCONDITION ADD (CONSTRAINT
 GRN_BME_FK FOREIGN KEY 
  (BMCOLLECTIONID) REFERENCES BMCOLLECTION
  (BMCOLLECTIONID));
/

PROMPT Creating Foreign Key on 'GROWTHCONDITION'
;ALTER TABLE GROWTHCONDITION ADD (CONSTRAINT
 GRN_BDN_FK FOREIGN KEY 
  (HOSTTYPEID) REFERENCES BIOMATERIAL
  (BIOMATERIALID));
/

PROMPT Creating Foreign Key on 'GROWTHCONDITION'
;ALTER TABLE GROWTHCONDITION ADD (CONSTRAINT
 GRN_BDN_FK3 FOREIGN KEY 
  (MEDIA) REFERENCES BIOMATERIAL
  (BIOMATERIALID));
/

PROMPT Creating Foreign Key on 'GROWTHCONDITION'
;ALTER TABLE GROWTHCONDITION ADD (CONSTRAINT
 GRN_BDN_FK2 FOREIGN KEY 
  (HOSTSTRAINID) REFERENCES BIOMATERIAL
  (BIOMATERIALID));
/


;CREATE SEQUENCE BIOMATERIALID
 NOMAXVALUE
 NOMINVALUE
 NOCYCLE
 NOCACHE;
/

PROMPT Creating Sequence 'BMCOLLECTIONID'
;CREATE SEQUENCE BMCOLLECTIONID
 NOMAXVALUE
 NOMINVALUE
 NOCYCLE
 NOCACHE;
/

PROMPT Creating Sequence 'BMCONDITIONID'
;CREATE SEQUENCE BMCONDITIONID
 NOMAXVALUE
 NOMINVALUE
 NOCYCLE
 NOCACHE;


 insert into biomaterialtype values( 'ANTIBIOTIC');
 insert into biomaterialtype values( 'HOSTTYPE' );
 insert into biomaterialtype values( 'METABOLIC'        );
insert into biomaterialtype values( 'HOSTSTRAIN' );
insert into biomaterialtype values( 'MEDIA' );
