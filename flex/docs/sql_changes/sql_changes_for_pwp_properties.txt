


ALTER TABLE WORKFLOW 

 MODIFY (NAME VARCHAR2(200)
 );

CREATE TABLE SETUP_PROPERTIES
 (WORKFLOWID NUMBER(10,0) NOT NULL
 ,PROJECTID NUMBER(10,0) NOT NULL
 ,PROTOCOLID NUMBER(10,0) NOT NULL
 ,PROPERTYNAME VARCHAR2(100) NOT NULL
 ,PROPERTYVALUE VARCHAR2(240) NOT NULL
 );


CREATE TABLE SETUPPROPERTYNAME
 (NAME VARCHAR2(100) NOT NULL
 );


ALTER TABLE SETUP_PROPERTIES
 ADD (CONSTRAINT SPE_PK PRIMARY KEY 
  (WORKFLOWID
  ,PROJECTID
  ,PROTOCOLID
  ,PROPERTYNAME))
;

ALTER TABLE SETUPPROPERTYNAME
 ADD (CONSTRAINT SEE_PK PRIMARY KEY 
  (NAME));

ALTER TABLE SETUP_PROPERTIES ADD (CONSTRAINT
 SPE_PRT_FK FOREIGN KEY 
  (PROJECTID) REFERENCES PROJECT
  (PROJECTID));


ALTER TABLE SETUP_PROPERTIES ADD (CONSTRAINT
 SPE_PPROTOCOL_FK FOREIGN KEY 
  (PROTOCOLID) REFERENCES PROCESSPROTOCOL
  (PROTOCOLID))
;

ALTER TABLE SETUP_PROPERTIES ADD (CONSTRAINT
 SPE_WOW_FK FOREIGN KEY 
  (WORKFLOWID) REFERENCES WORKFLOW
  (WORKFLOWID))
;
ALTER TABLE SETUP_PROPERTIES ADD (CONSTRAINT
 SPE_SEE_FK FOREIGN KEY 
  (PROPERTYNAME) REFERENCES SETUPPROPERTYNAME
  (NAME));

CREATE TABLE WORKFLOWTYPE
 (WORKFLOWTYPE VARCHAR2(100) NOT NULL
 );

ALTER TABLE WORKFLOWTYPE
 ADD (CONSTRAINT WOE_PK PRIMARY KEY 
  (WORKFLOWTYPE));

ALTER TABLE WORKFLOW 
 ADD (WORKFLOWTYPE VARCHAR2(100) DEFAULT 'REGULAR' NOT NULL
 );



insert into WORKFLOWTYPE (workflowtype) values ( 'REGULAR');
insert into WORKFLOWTYPE (workflowtype) values ( 'REARRAY');
insert into WORKFLOWTYPE (workflowtype) values ('TRANSFER_TO_EXPRESSION');

insert into SETUPPROPERTYNAME values ('VECTOR_ID');
insert into SETUPPROPERTYNAME values ('LABEL_PREFIX');
insert into SETUPPROPERTYNAME values ('CLONING_STRATEGY_ID');
insert into SETUPPROPERTYNAME values ('PROJECT_OPEN');
insert into SETUPPROPERTYNAME values ('PROJECT_CLOSED');
insert into SETUPPROPERTYNAME values ('PROJECT_OPEN_CLOSED');
insert into setuppropertyname values('VECTOR_NAME');
insert into setuppropertyname values('LABEL_PREFIX_EXPRESSION_REARRAY');

