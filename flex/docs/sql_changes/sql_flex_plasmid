ALTER TABLE CLONES 
 ADD (ISREADYFORPLASMID INTEGER DEFAULT 0 NOT NULL
 );


CREATE TABLE FLEX_PLASMID_VECTOR
 (FLEXVECTORID NUMBER(10,0) NOT NULL
 ,FLEXVECTORNAME VARCHAR2(150) NOT NULL
 ,PLASMVECTORID NUMBER(10,0) NOT NULL
 ,PLASMVECTORNAME VARCHAR2(150) NOT NULL
 );

ALTER TABLE FLEX_PLASMID_VECTOR ADD (CONSTRAINT
 FPR_VER_FK FOREIGN KEY 
  (FLEXVECTORname) REFERENCES vector
  (vectorname));


ALTER TABLE FLEX_PLASMID_VECTOR
 ADD (CONSTRAINT FPR_PK PRIMARY KEY 
  (PLASMVECTORID
  ,FLEXVECTORID));



CREATE TABLE FLEX_PLASMID_AUTHOR
 (FLEXAUTHORID NUMBER(10,0) NOT NULL
 ,FLEXAUTHORNAME VARCHAR2(400) NOT NULL
 ,PLASMIDAUTHORID NUMBER(10,0) NOT NULL
 ,PLASMIDAUTHORNAME VARCHAR2(250) NOT NULL
 )
;

ALTER TABLE FLEX_PLASMID_AUTHOR ADD (CONSTRAINT
 AAR_AUO_FK FOREIGN KEY 
  (FLEXAUTHORID) REFERENCES AUTHORINFO
  (AUTHORID));

ADD (CONSTRAINT AAR_PK PRIMARY KEY 
  (FLEXAUTHORID
  ,PLASMIDAUTHORID));


CREATE TABLE FLEX_PLASMID_CLONEAUTHORTYPE
 (FLEXCLONEAUTHOR VARCHAR2(100) NOT NULL
 ,PLASMIDCLONEAUTHOR VARCHAR2(100) NOT NULL
 );
 
ALTER TABLE FLEX_PLASMID_CLONEAUTHORTYPE
 ADD (CONSTRAINT FPE_PK PRIMARY KEY 
  (FLEXCLONEAUTHOR
  ,PLASMIDCLONEAUTHOR));



ALTER TABLE FLEX_PLASMID_CLONEAUTHORTYPE ADD (CONSTRAINT
 FPE_CAT_FK FOREIGN KEY 
  (FLEXCLONEAUTHOR) REFERENCES CLONEAUTHORTYPE
  (NAMETYPE));


update clones set ISREADYFORPLASMID=1 where status='SEQUENCE VERIFIED';

CREATE TABLE FLEX_PLASMID_SPECIES_MAP
 (FLEXSPECIES VARCHAR2(100) NOT NULL
 ,PLASMIDSPECIES VARCHAR2(250) NOT NULL
 ,PLASMIDREFSEQTYPE VARCHAR2(50) NOT NULL
 );

ALTER TABLE FLEX_PLASMID_SPECIES_MAP
 ADD (CONSTRAINT FPP_PK PRIMARY KEY 
  (FLEXSPECIES
  ,PLASMIDSPECIES));

ALTER TABLE FLEX_PLASMID_SPECIES_MAP ADD (CONSTRAINT
 FPP_SPECIES_FK FOREIGN KEY 
  (FLEXSPECIES) REFERENCES SPECIES
  (GENUSSPECIES));

ALTER TABLE SPECIES 
 ADD (IDNAME VARCHAR2(50)
 );