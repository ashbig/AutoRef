<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.0//EN"
          "http://jakarta.apache.org/struts/dtds/struts-config_1_0.dtd">

<!--
     This is the Struts configuration file for the example application,
     using the proposed new syntax.

     NOTE:  You would only flesh out the details in the "form-bean"
     declarations if you had a generator tool that used them to create
     the corresponding Java classes for you.  Otherwise, you would
     need only the "form-bean" element itself, with the corresponding
     "name" and "type" attributes.
-->


<struts-config>


 
  <!-- ========== Form Bean Definitions =================================== -->
  <form-beans>

    <!-- Logon form bean -->
    <form-bean      name="logonForm"
                    type="edu.harvard.med.hip.metagene.form.LogonForm"/>

    <!-- Customer registration form bean -->
    <form-bean      name="customerRegistrationForm"
                    type="edu.harvard.med.hip.metagene.form.CustomerRegistrationForm"/>

    <!-- Customer registration form bean -->
    <form-bean      name="findRegistrationForm"
                    type="edu.harvard.med.hip.metagene.form.FindRegistrationForm"/>

    <!-- main page form bean -->
    <form-bean      name="mainForm"
                    type="edu.harvard.med.hip.metagene.form.MainForm"/>

    <!-- disease search page form bean -->
    <form-bean      name="diseaseSearchForm"
                    type="edu.harvard.med.hip.metagene.form.DiseaseSearchForm"/>

    <!-- get genes page form bean -->
    <form-bean      name="getGenesForm"
                    type="edu.harvard.med.hip.metagene.form.GetGenesForm"/>

    <!-- get genes page form bean -->
    <form-bean      name="displayLinksForm"
                    type="edu.harvard.med.hip.metagene.form.DisplayLinksForm"/>

    <!-- get genes page form bean -->
    <form-bean      name="geneSearchForm"
                    type="edu.harvard.med.hip.metagene.form.GeneSearchForm"/>

    <!-- get genes page form bean -->
    <form-bean      name="searchGenesForm"
                    type="edu.harvard.med.hip.metagene.form.SearchGenesForm"/>

    <!-- Search multiple disease -->
    <form-bean      name="multipleDiseaseSearchForm"
                    type="edu.harvard.med.hip.metagene.form.MultipleDiseaseSearchForm"/>

    <!-- Search multiple disease -->
    <form-bean      name="selectMeshTermsForm"
                    type="edu.harvard.med.hip.metagene.form.SelectMeshTermsForm"/>

  </form-beans>


  <!-- ========== Global Forward Definitions ============================== -->
  <global-forwards>
    <forward    name="login"        path="/login.jsp"/>
    <forward    name="logout"       path="/Logout.do"/>
    <forward    name="home"         path="/overview.jsp"/>
    <forward    name="register"     path="/CustomerRegistration.jsp"/>
    <forward    name="findRegistration" path="/FindRegistration.jsp"/>
    <forward    name="error"        path="/ProcessError.do"/>
  </global-forwards>
  

  <!-- ========== Action Mapping Definitions ============================== -->
  <action-mappings type="org.apache.struts.action.ActionMapping">

    
    <!-- Process a user logon -->
    <action    path="/logon"
               type="edu.harvard.med.hip.metagene.action.LogonAction"
               name="logonForm"
              scope="request"
              input="/login.jsp">
      <forward  name="success"   path="/main.jsp"/>
      <forward  name="failure"  path="/login.jsp"/>
    </action>

    <action path="/Logout" type="edu.harvard.med.hip.metagene.action.LogoutAction">
    <forward name="success" path="/login.jsp" /> 
    </action>

    <!--  Process a customer registration --> 
    <action     path="/CustomerRegistration" 
                type="edu.harvard.med.hip.metagene.action.CustomerRegistrationAction" 
                name="customerRegistrationForm" 
                input="/CustomerRegistration.jsp">
        <forward name="success" path="/RegistrationConfirm.jsp" /> 
        <forward name="failure" path="/CustomerRegistration.jsp" /> 
    </action>

    <!--  Process a find registration --> 
    <action     path="/FindRegistration" 
                type="edu.harvard.med.hip.metagene.action.FindRegistrationAction" 
                name="findRegistrationForm" 
                input="/FindRegistration.jsp">
        <forward name="success" path="/FindRegistrationConfirm.jsp" /> 
        <forward name="failure" path="/FindRegistration.jsp" /> 
    </action>

    <!-- Process a user selection in the main page -->
    <action    path="/main"
               type="edu.harvard.med.hip.metagene.action.MainMenuAction"
               name="mainForm"
              scope="request"
              input="/main.jsp">
      <forward  name="success_disease"   path="/DiseaseSearch.jsp"/>
      <forward  name="success_gene"   path="/GeneSearch.jsp"/>
      <forward  name="success_multi_disease"   path="/MultipleDiseaseSearch.jsp"/>
      <forward  name="failure"  path="/login.jsp"/>
    </action>

    <!-- Process the search term user entered -->
    <action    path="/diseaseSearch"
               type="edu.harvard.med.hip.metagene.action.DiseaseSearchAction"
               name="diseaseSearchForm"
              scope="request"
              input="/DiseaseSearch.jsp">
      <forward  name="success"   path="/GetGenes.jsp"/>
    </action>

    <!-- Process the search term user entered -->
    <action    path="/GetGenes"
               type="edu.harvard.med.hip.metagene.action.GetGenesAction"
               name="getGenesForm"
              scope="request"
              input="/GetGenes.jsp">
      <forward  name="success"   path="/DisplayGenes.jsp"/>
      <forward  name="newsearch"   path="/DiseaseSearch.jsp"/>
    </action>

    <!-- Process the link display -->
    <action    path="/DisplayLinks"
               type="edu.harvard.med.hip.metagene.action.DisplayLinksAction"
               name="displayLinksForm"
              scope="request"
              input="/DisplayGenes.jsp">
      <forward  name="success"   path="/DisplayLinks.jsp"/>
      <forward  name="fail"   path="/DisplayLinksFail.jsp"/>
    </action>

    <!-- Process gene search -->
    <action    path="/GeneSearch"
               type="edu.harvard.med.hip.metagene.action.GeneSearchAction"
               name="geneSearchForm"
              scope="request"
              input="/GeneSearch.jsp">
      <forward  name="success"   path="/SearchGenes.jsp"/>
      <forward  name="failure"   path="/error.do"/>
    </action>

    <!-- Process gene search -->
    <action    path="/SearchGenes"
               type="edu.harvard.med.hip.metagene.action.SearchGenesAction"
               name="searchGenesForm"
              scope="request"
              input="/SearchGenes.jsp">
      <forward  name="success"   path="/DisplayDiseases.jsp"/>
      <forward  name="newsearch"   path="/GeneSearch.jsp"/>
    </action>

    <!-- Search genes in multiple diseases -->
    <action    path="/MultipleDiseaseSearch"
               type="edu.harvard.med.hip.metagene.action.MultipleDiseaseSearchAction"
               name="multipleDiseaseSearchForm"
              scope="request"
              input="/MultipleDiseaseSearch.jsp">
      <forward  name="success"   path="/SelectMeshTerms.jsp"/>
      <forward  name="failure"  path="/FlexError.jsp"/>
    </action>

    <!-- Search genes in multiple diseases -->
    <action    path="/SelectMeshTerms"
               type="edu.harvard.med.hip.metagene.action.SelectMeshTermsAction"
               name="selectMeshTermsForm"
              scope="request"
              input="/SelectMeshTerms.jsp">
      <forward  name="success"   path="/DisplayGenes.jsp"/>
      <forward  name="newsearch"   path="/MultipleDiseaseSearch.jsp"/>
    </action>

    <action     path="/ProcessError"
                type="edu.harvard.med.hip.metagene.action.ProcessErrorAction">
       <forward name="displayError" path="/FlexError.jsp"/>                
    </action>

    <!-- The standard administrative actions available with Struts -->
    <!-- These would be either omitted or protected by security -->
    <!-- in a real application deployment -->
    <action    path="/admin/addFormBean"
               type="org.apache.struts.actions.AddFormBeanAction"/>
    <action    path="/admin/addForward"
               type="org.apache.struts.actions.AddForwardAction"/>
    <action    path="/admin/addMapping"
               type="org.apache.struts.actions.AddMappingAction"/>
    <action    path="/admin/reload"
               type="org.apache.struts.actions.ReloadAction"/>
    <action    path="/admin/removeFormBean"
               type="org.apache.struts.actions.RemoveFormBeanAction"/>
    <action    path="/admin/removeForward"
               type="org.apache.struts.actions.RemoveForwardAction"/>
    <action    path="/admin/removeMapping"
               type="org.apache.struts.actions.RemoveMappingAction"/>


  </action-mappings>

</struts-config>
